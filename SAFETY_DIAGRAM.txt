================================================================================
SAFE TRAFFIC LIGHT OPERATION DIAGRAM
================================================================================

CRITICAL SAFETY RULE:
âœ“ Both streets are NEVER GREEN at the same time
âœ“ One street must be RED while the other cycles through GREEN â†’ YELLOW
âœ“ 1-second safety buffer with BOTH streets RED between phase changes

================================================================================
COMPLETE CYCLE (26 seconds total)
================================================================================

PHASE 1: H-Street Active (13 seconds)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Time  | V-Street        | H-Street
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
0s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
1s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
2s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
3s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
4s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
5s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
6s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
7s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
8s    | ğŸ”´ RED          | ğŸŸ¢ GREEN
9s    | ğŸ”´ RED          | ğŸŸ¡ YELLOW (transition)
10s   | ğŸ”´ RED          | ğŸŸ¡ YELLOW
11s   | ğŸ”´ RED          | ğŸŸ¡ YELLOW
12s   | ğŸ”´ RED          | ğŸ”´ RED (SAFETY BUFFER)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PHASE 2: V-Street Active (13 seconds)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Time  | V-Street        | H-Street
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
13s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
14s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
15s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
16s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
17s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
18s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
19s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
20s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
21s   | ğŸŸ¢ GREEN        | ğŸ”´ RED
22s   | ğŸŸ¡ YELLOW       | ğŸ”´ RED (transition)
23s   | ğŸŸ¡ YELLOW       | ğŸ”´ RED
24s   | ğŸŸ¡ YELLOW       | ğŸ”´ RED
25s   | ğŸ”´ RED          | ğŸ”´ RED (SAFETY BUFFER)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Then CYCLE REPEATS from Phase 1...

================================================================================
SAFETY FEATURES
================================================================================

1. âœ… NO GREEN COLLISION
   - V-Street GREEN and H-Street GREEN NEVER occur simultaneously
   - Prevents intersection crashes

2. âœ… ALL-RED CLEARANCE TIME
   - 1 second with both streets RED between each phase
   - Allows any vehicles in intersection to clear

3. âœ… PREDICTABLE TIMING
   - Each street gets exactly 9 seconds of GREEN time
   - Each street gets exactly 3 seconds of YELLOW warning
   - Total RED time per street: 13 seconds (waiting for other street)

4. âœ… PROPER YELLOW WARNING
   - 3-second yellow gives drivers time to stop safely
   - Yellow ONLY appears when transitioning from GREEN to RED

================================================================================
TIMING BREAKDOWN
================================================================================

Per Street Per Cycle:
- GREEN:  9 seconds  (traffic flows)
- YELLOW: 3 seconds  (warning, prepare to stop)
- RED:    13 seconds (other street's turn + safety buffer)
- TOTAL:  25 seconds per complete cycle

Safety Buffers:
- All-RED time: 1 second between each phase change
- Total safety time: 2 seconds per complete cycle

Total Cycle Time: 26 seconds (13s Phase 1 + 13s Phase 2)

================================================================================
STATE TRANSITION DIAGRAM
================================================================================

H-STREET SEQUENCE:
   RED â†’ GREEN (9s) â†’ YELLOW (3s) â†’ RED (1s safety) â†’ [V-Street's turn]

V-STREET SEQUENCE:
   RED â†’ GREEN (9s) â†’ YELLOW (3s) â†’ RED (1s safety) â†’ [H-Street's turn]

NEVER HAPPENS (FORBIDDEN):
   âŒ V-Street GREEN + H-Street GREEN (CRASH!)
   âŒ V-Street YELLOW + H-Street GREEN (Unsafe)
   âŒ V-Street GREEN + H-Street YELLOW (Unsafe)

ALWAYS SAFE:
   âœ… V-Street RED + H-Street GREEN
   âœ… V-Street RED + H-Street YELLOW
   âœ… V-Street RED + H-Street RED (safety buffer)
   âœ… V-Street GREEN + H-Street RED
   âœ… V-Street YELLOW + H-Street RED
   âœ… V-Street RED + H-Street RED (safety buffer)

================================================================================
VISUAL TIMELINE (First 2 Cycles)
================================================================================

Seconds: 0----5----10---15---20---25---30---35---40---45---50
         |         |         |         |         |         |
V-Street: RRRRRRRRRRRRRâš«GGGGGGGGGYYYâš«RRRRRRRRRRRRRâš«GGGGGGGGGYYYâš«
H-Street: GGGGGGGGGYYYâš«RRRRRRRRRRRRRâš«GGGGGGGGGYYYâš«RRRRRRRRRRRRRâš«

Legend:
  R = RED light
  G = GREEN light  
  Y = YELLOW light
  âš« = Safety buffer (both RED)

================================================================================
REAL-WORLD BEHAVIOR
================================================================================

What Drivers Experience:

AT V-STREET:
1. Light is RED (wait 13 seconds while H-Street traffic passes)
2. Light turns GREEN (go for 9 seconds)
3. Light turns YELLOW (3 seconds to stop safely)
4. Light turns RED (brief pause, then H-Street gets turn)

AT H-STREET:
1. Light is RED (wait 13 seconds while V-Street traffic passes)
2. Light turns GREEN (go for 9 seconds)
3. Light turns YELLOW (3 seconds to stop safely)
4. Light turns RED (brief pause, then V-Street gets turn)

================================================================================
EMERGENCY SHUTDOWN SEQUENCE
================================================================================

When Ctrl+C is pressed:
1. Both streets immediately turn RED
2. RED lights stay on for 2 seconds (safety)
3. All lights turn OFF
4. GPIO pins cleaned up
5. System exits safely

================================================================================
